<div dir="rtl">
<h1>
הוראות כלליות:
</h1>

לפניכם פרויקט Swing המציג לוח משחק של איקס-עיגול. בפרויקט זה, השחקן האנושי משחק מול המחשב ומתקשר איתו באמצעות בקשות API. השחקן בוחר משבצת באמצעות לחיצה על המשבצת בחלון ה-Swing, ואז נשלחת בקשת API אל השרת עם המידע על המשבצת המבוקשת. בתגובה, השרת מחזירה משבצת אחרת, שסומנה על ידי המחשב. כך ממשיך להתקדם המחשב. 
תסיימו את השלב בהצלחה לאחר שתנצחו את המחשב (אל דאגה, המחשב הוא לא שחקן חכם במיוחד. הוא בוחר בכל תור משבצת אקראית, ללא קשר למצב הלוח). 

<b>
המשימה שלכם: 
<br/>
</b>
לכתוב את כל בקשות ה-API המתקשרות עם השרת: 
-קבלת לוח המשחק העדכני
-סימון משבצת בלוח 
-ניקוי הלוח
-בדיקה האם בלוח יש מנצח


<b>
<br/>
<br/>
הוראות מפורטות: 
<br/>
</b>

ראשית כל עליכם לוודא כי אתם מבינים את המבנה של פרויקט ה-Swing שלפניכם. במחלקה ApiUtil תוכלו למצוא ארבע מתודות ללא מימוש, שיצטרכו לבצע את בקשות ה-API אל השרת. 
להלן פירוט שלהן: 

<i>
-הפונקציה getBoard. 
<br/>
</i>

בפונקציה זו עליכם לכתוב את בקשת ה-API שפונה אל השרת ומבקשת את המצב הנוכחי של לוח המשחק. בקשת ה-API שעליכם לשלוח: get-board. לבקשה זו יש לצרף פרמטר אחד: המשתנה id, שהוא המזהה הייחודי שלכם בשרת (תעודת הזהות שהזנתם עם הרצת הפרויקט). פרמטר זה יסייע כדי לזהות אתכם ולדעת איזה לוח משחק להגיב לכם. 
הבקשה תחזיר תגובה בצורת JSON המייצג את המצב הנוכחי של לוח המשחק. להלן דוגמה לאופן שבו JSON התגובה עשוי להיראות:
</br>
</br>
</br>
<div>
<img src="https://i.imgur.com/fJkCjWY.png"/>
</div> 
</br>
</br>
</br>

ניתן לראות שה-JSON מכיל: 
-פרמטר בשם success, שהערך שלו הוא true. 
-פרמטר בשם errorCode שהערך שלו הוא null. 
-פרמטר בשם board, שהערך שלו הוא מערך דו-מימדי שמייצג את המצב הנוכחי של הלוח. שימו לב: X מייצג את השחקן האנושי, 0 מייצג את היריב (המחשב), null מייצג משבצת ריקה. 


עליכם לקחת את התגובה הזאת, ולהפוך אותה למבנה של Character[][]. זהו מערך דו מימדי של אובייקטים מסוג Character. אם תממשו את הפונקציה באופן נכון, תוכלו לראות את הלוח מוצג על המסך. 
להלן 



<i>
-הפונקציה markSquare. 
<br/>
</i>

המטרה העיקרית של הפונקציה הזאת היא לתקשר עם השרת, ולבקש ממנו לעדכן את הלוח בהתאם למהלך שהשחקן האנושי ביצע. בנוסף, השרת יבצע גם את המהלך שלו (כיריב של השחקן האנושי) בתגובה. 
בפונקציה זו עליכם לכתוב את בקשת ה-API שפונה אל השרת ומבקשת ממנו לעדכן את המצב של השרת באמצעות סימון של אחת המשבצות הפנויות בלוח. בקשת ה-API שעליכם לשלוח: update-board. לבקשה זו יש לצרף שלושה פרמטרים: 
-פרמטר בשם id (כמו בבקשה הקודמת), על מנת שהשרת ידע איזה לוח משחק יש לעדכן. 
-פרמטר בשם row, שהוא אחד מבין המספרים הבאים: 0, 1 או 2. פרמטר זה מייצג את השורה של המשבצת שאותה סימן השחקן האנושי. לדוגמה, 0 מתאים לשורה העליונה, 1 לשורה האמצעית ו-2 לשורה התחתונה. 
-פרמטר בשם column, גם הוא אחד מבין המספרים 0, 1 או 2. פרמטר זה מייצג את העמודה של המשבצת שאותה סימן השחקן האנושי. לדוגמה, 0 פירושו הוא העמודה השמאלית ביותר, 1 מייצג את העמודה המרכזית ו-2 מייצג את העמודה הימנית ביותר. 
לאחר בקשה מוצלחת, השרת יחזיר את המצב הנוכחי המעודכן של לוח המשחק. מצב זה ישקף שני שינויים בלוח המשחק:
-שינוי ראשון – המשבצת שאתם בחרתם לסמן.
-שינוי שני – המשבצת שאותה ביקש המחשב (השרת) לסמן עבור התור שלו. שימו לב שהמחשב בוחר באופן לא חכם – משבצת פנויה אקראית לסימון, כך שקל מאוד לנצח אותו במשחק. 

שימו לב: לפי החתימה של הפונקציה markSquare, היא אמורה להחזיר רק Integer בודד. כלומר, הפונקציה אינה מחזירה אל לוח המשחק המעודכן המלא, כפי שקיבלתם בתגובה מהשרת, אלא רק Integer. ומהו אותו Integer? המיקום שמייצג את המקום שבו בחר המחשב לצבוע את המשבצת שלו. 
זאת אומרת, שעליכם לחשב מהו המיקום שבו המחשב סימן משבצת, ולהחזיר Integer, שייצג אותו. כיצד יתבצע החישוב? כפי שאתם יכולים לראות, הפונקציה markSquare מקבלת מערך דו-מימדי Character[][] currentBoard. פרמטר זה מייצג את המצב הנוכחי של הלוח (לפני השינויים). עליכם להשוות את המצב הנוכחי של הלוח מול המצב של הלוח שהתקבל בתגובה מהשרת, על מנת לגלות מהי המשבצת שסימן המחשב. תגובה זו תהיה מספר בטווח 0-8. 
0 מייצג את המשבצת השמאלית העליונה
1 מייצג את המשבצת האמצעית העליונה
2 מייצג את המשבצת הימנית העליונה
3 מייצג את המשבצת השמאלית האמצעית
וכך הלאה כאשר 8 מייצג את המשבצת הימנית התחתונה.

לדוגמה: נניח שהלוח הראשוני הוא ריק לחלוטין ואתה מחליט לסמן את המשבצת האמצעית. הפרמטרים שיישלחו אל השרת הם row=1 ו-column=1. השרת יגיב עם לוח מעודכן שבו מסומנת המשבצת המרכזית (הפעולה שהתבצעה על ידיך) ומשבצת נוספת, נניח המשבצת הימנית העליונה. במקרה כזה, על הפונקציה להחזיר את הערך 2. 


<i>
-הפונקציה clearBoard
<br/>
</i>

המטרה של פונקציה זו היא לתקשר עם השרת כדי לאפס את לוח המשחק ששמור בו. פונקציה זו שימושית כאשר אתם רוצים להתחיל משחק חדש, או לחלופין אם יש צורך לנקות מהלוח מהלכים שכבר התבצעו בו. 
בפונקציה זו, עליכם לכתוב בקשת API אל השרת, שתנחה אותו לאפס את לוח המשחק הנוכחי למצבו ההתחלתי – כלומר ללא כל משבצות צבועות. 
עליכם לשלוח בקשת API אל clear-board, כאשר הפרמטר היחיד שעליכם לצרף לבקשה הוא המשתנה id, שזהו המזהה ששימש אתכם גם בבקשות ה-API הקודמות. פרמטר זה נועד כדי ליידע את השרת איזה לוח משחק ברצונכם לאפס. השרת ישתמש במזהה זה על מנת לאתר ולנקות את הלוח המתאים. 
התגובה הצפויה של השרת היא שהלוח נוקה בהצלחה. 


<i>
-הפונקציה checkWinner
<br/>
</i>

התפקיד המרכזי של פונקציה זו הוא ליצור קשר עם השרת במטרה לשאול אותו האם התקיים תנאי ניצחון במשחק איקס-עיגול. השרת יחזיר תשובה האם הוא מזהה שהשחקן האנושי ניצח את המשחק, באמצעות סימון שלוש משבצות רצופות בשורה, בעמודה או באלכסון. 
בפונקציה זו, המשימה שלכם היא ליצור בקשת API לשרת ולשאול אותו האם בלוח משחק ספציפי השחקן הצליח לנצח. בקשת ה-API שעליכם לשלוח היא check-winner, שאליה יש לצרף את הפרמטר id (המזהה הייחודי, כמו בבקשות הקודמות). 
לאחר הבקשה, השרת יגיב באחד משני האופנים: או שיש ניצחון או שאין ניצחון. עליכם לחלץ את הפרמטר הרלוונטי מה-JSON שנשלח על ידי השרת, ולהחזיר אותו כ-boolean מהפונקציה. אם ה-boolean חוזר עם הערך true, יחד עמו יגיעו גם הוראות אל השלב הבא. 


שימו לב: עבור כל בקשות ה-API שצוינו מעלה התחילית היא https://app.seker.live/fm1
לדוגמה, על מנת לשלוח את בקשת ה-API get-board, עליכם להרכיב בקשה שנראית כך: 
https://app.seker.live/fm1/get-board וכמובן לצרף אליה את הפרמטרים הנדרשים. 

המלצה: לפני שאתם כותבים קוד ששולח את בקשות ה-API, נסו לשלוח את הבקשות ישירות דרך הדפדפן, על מנת לראות את ה-JSON החוזר מהבקשות. 




<br/><br/>
<b>שימוש ברמזים</b>
<br/><br/>
במידה ואתם לא מצליחים לממש את אחת הפונקציות, אתם יכולים לשלוח בקשת API שתיתן לכם כתגובה את הפתרון המלא של אותה פונקציה. 
כמובן, אם תבקשו פתרון כזה, המחיר יהיה "קנס" נקודות במבחן. 
על מנת לבקש פתרון עבור מתודה מסוימת, עליכם לשלוח בקשה אל הנתיב https://app.seker.live/fm1/solution ולצרף אליה שני פרמטרים:
1. id - תעודת הזהות שלכם
2. funcion - השם המדויק של הפונקציה המבוקשת. 

עבור חלק מהפונקציות, קנס הנקודות גבוה מאשר אחרות. 
הפונקציות בעלות הקנס הנמוך יותר: clearBoard ו-checkWinner
הפונקציות בעלות הקנס הגבוה יותר: markSquare ו-getBoard



<i>שימו לב: </i> 
<br/>
<br/>
-הפתרונות של כל הפונקציות משתמשים בספריות Unirest ו-jackson, שחייבים להיות מוטמעים בפרויקט על מנת שהוא יתקמפל. 
<br/>
<br/>
-פתרון הקוד לכל פונקציה יגיע אליכם כטקסט גולמי. אתם תצטרכו להפריד בין שורות הקוד, לבטל תווים מיוחדים (כגון /) ולהוסיף את ה-importים המתאימים. 




</div>
